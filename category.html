<!DOCTYPE html>
<html lang="is">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flokkur</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container" id="category-container">
    <div id="category-content">...</div>
  </div>
  <script>
    function getCategoryFromUrl() {
      const params = new URLSearchParams(window.location.search);
      return params.get('category') || '';
    }
    const categoryKey = getCategoryFromUrl();
    fetch('categories.json')
      .then(response => response.json())
      .then(categories => {
        let category = categories[categoryKey];
        if (!category) {
          // fallback to first category if not found
          const firstKey = Object.keys(categories)[0];
          category = categories[firstKey];
        }
        // Header with logo and title
        let html = '<div class="category-header">';
        if (category.logoImg) {
          const isImg = /\.(png|jpg|jpeg|svg|gif)$/.test(category.logoImg) || category.logoImg.startsWith('/') || category.logoImg.startsWith('http');
          if (isImg) {
            html += `<img src="${category.logoImg}" alt="${category.displayName} logo" class="category-logo-img" />`;
          } else {
            html += `<span class="category-logo-emoji">${category.logoImg}</span>`;
          }
        }
        html += `<span class="category-title" style="color:${category.themeColor||'#0074d9'}">${category.displayName}</span>`;
        html += '</div>';
        const btnStyle = category.themeColor ? `style="background:${category.themeColor};"` : '';
        html += `<button class="quiz-type-btn" ${btnStyle} onclick="location.href='type-quiz.html?category=${category.key}'">${category.typeQuizTitle}</button>`;
        html += `<button class="quiz-type-btn" ${btnStyle} onclick="location.href='multiple-choice.html?category=${category.key}'">${category.mcQuizTitle}</button>`;
        html += `<button class="quiz-type-btn" ${btnStyle} onclick="location.href='select-image.html?category=${category.key}'">${category.selectImageQuizTitle}</button>`;
        html += `<a href='index.html' style='display:block;margin-top:32px;'>‚Üê Til baka</a>`;
        document.getElementById('category-content').innerHTML = html.replace(/\\"/g, '"');
      });
  </script>
</body>
</html>
